<div ng-controller="modules.room.controllers.roles as me">
    <div class="navbar navbar-default navbar-static-top" style="margin: 0">
        <div class="navbar-form pull-right">
            <button class="btn btn-default" ng-click="me.add()"><i class="glyphicon glyphicon-plus-sign"></i> 添加</button>
        </div>
    </div>
    <table ng-table="me.tableParams" class="table table-striped table-hover">
        <colgroup>
            <col width="100px" />
            <col />
            <col width="90px" />
        </colgroup>
        <tr ng-repeat="row in me.list">
            <td title="'序号'">{{row.Number}}</td>
            <td title="'人员类别'">{{row.Name}}</td>
            <td title="'操作'">
                <div class="btn-group btn-group-xs">
                    <button class="btn btn-default" ng-click="me.edit(row.Id)"><i class="glyphicon glyphicon-pencil"></i></button>
                    <button class="btn btn-default" ng-click="me.authorize(row.Id)"><i class="glyphicon glyphicon-lock"></i></button>
                    <button class="btn btn-danger" ng-click="me.delete(row.Id)"><i class="glyphicon glyphicon-trash"></i></button>
                </div>
            </td>
        </tr>
    </table>
</div>
<script>
    require('modules.room.module')
        .controller('modules.room.controllers.roles', [
            '$scope',
            '$modal',
            'NgTableParams',
            'app.services.popupService',
            function ($scope, $modal, NgTableParams, popupService) {
                this.tableParams = new NgTableParams();

                this.list = [{
                    Number: 001,
                    Name: '超级管理员'
                }, {
                    Number: 002,
                    Name: '用户'
                }];

                this.add = function () {
                    $modal
                        .open({
                            templateUrl: 'views/room/personal/RoleForm.html'
                        }).result
                        .then(function (result) {

                        });
                };

                this.edit = function (id) {
                    $modal
                        .open({
                            templateUrl: 'views/room/personal/RoleForm.html'
                        }).result
                        .then(function (result) {

                        })
                };

                this.authorize = function (id) {
                    $modal
                        .open({
                            templateUrl: 'views/room/personal/Authorize.html'
                        });
                };

                this.delete = function (id) {
                    popupService
                        .confirm('是否删除？')
                        .ok(function () {

                        });
                };
            }
        ]);
</script>